<ion-content>
  <ng-container *ngIf="!queryError; else emptyResults">
    <ion-toolbar color="transparent">
      <ion-buttons slot="end">
        <ion-button color="primary"
                    fill="solid"
                    (click)="openCategoryModal()">
          <ion-icon name="add-circle-sharp"
                    slot="start"></ion-icon>
          <ion-label>
            Adicionar nova categoria
          </ion-label>
        </ion-button>
      </ion-buttons>
    </ion-toolbar>

    <ion-grid>
      <ion-row>
        <ion-col size="12"
                 size-md="8"
                 offset-md="2">
          <ion-list *ngIf="categories$ | async as categories">
            <ion-item *ngFor="let category of categories">
              <ion-label>
                {{category.name}}
              </ion-label>
              <ion-buttons slot="end">
                <ion-button (click)="openCategoryModal(category)">
                  <ion-icon name="create-sharp"
                            slot="start"></ion-icon>
                  <ion-label>Editar</ion-label>
                </ion-button>
                <ion-button (click)="deleteCategory(category)">
                  <ion-icon name="trash-bin-sharp"
                            slot="start"></ion-icon>
                  <ion-label>Excluir</ion-label>
                </ion-button>
              </ion-buttons>
            </ion-item>
          </ion-list>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ng-container>
</ion-content>

<ng-template #emptyResults>
  <ion-grid>
    <ion-row class="products-row">
    </ion-row>
    <ion-col>
      <h2 class="headline">Não foi possível encontrar nenhuma categoria. Por favor, recarregue a página.</h2>
    </ion-col>
  </ion-grid>
</ng-template>
